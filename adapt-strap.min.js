/**
 * adapt-strap
 * @version v2.2.1 - 2015-03-26
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,e,t){"use strict";angular.module("adaptv.adaptStrap",["adaptv.adaptStrap.utils","adaptv.adaptStrap.treebrowser","adaptv.adaptStrap.tablelite","adaptv.adaptStrap.tableajax","adaptv.adaptStrap.loadingindicator","adaptv.adaptStrap.draggable","adaptv.adaptStrap.infinitedropdown","adaptv.adaptStrap.alerts"]).provider("$adConfig",function(){var a=this.iconClasses={expand:"glyphicon glyphicon-plus-sign",collapse:"glyphicon glyphicon-minus-sign",loadingSpinner:"glyphicon glyphicon-refresh ad-spin",firstPage:"glyphicon glyphicon-fast-backward",previousPage:"glyphicon glyphicon-backward",nextPage:"glyphicon glyphicon-forward",lastPage:"glyphicon glyphicon-fast-forward",sortAscending:"glyphicon glyphicon-chevron-up",sortDescending:"glyphicon glyphicon-chevron-down",sortable:"glyphicon glyphicon-resize-vertical",draggable:"glyphicon glyphicon-align-justify",selectedItem:"glyphicon glyphicon-ok",alertInfoSign:"glyphicon glyphicon-info-sign",alertSuccessSign:"glyphicon glyphicon-ok",alertWarningSign:"glyphicon glyphicon-warning-sign",alertDangerSign:"glyphicon glyphicon-exclamation-sign"},e=this.paging={request:{start:"skip",pageSize:"limit",page:"page",sortField:"sort",sortDirection:"sort_dir",sortAscValue:"asc",sortDescValue:"desc"},response:{itemsLocation:"data",totalItems:"pagination.totalCount"},pageSize:10,pageSizes:[10,25,50]},t=this.componentClasses={tableLiteClass:"table",tableAjaxClass:"table"};this.$get=function(){return{iconClasses:a,paging:e,componentClasses:t}}}),angular.module("adaptv.adaptStrap.alerts",[]).directive("adAlerts",[function(){function a(a,e,t,n,o){a.iconMap={info:n.iconClasses.alertInfoSign,success:n.iconClasses.alertSuccessSign,warning:n.iconClasses.alertWarningSign,danger:n.iconClasses.alertDangerSign};var i,l=a.timeout&&!Number(l).isNAN?a.timeout:0;a.close=function(){o.clear(),i&&t.cancel(i)},a.customClasses=a.customClasses||"",a.settings=o.settings,0!==l&&a.$watch("settings.type",function(e){""!==e&&(i&&t.cancel(i),i=t(a.close,l))})}return{restrict:"AE",scope:{timeout:"=",customClasses:"@"},templateUrl:"alerts/alerts.tpl.html",controller:["$scope","$attrs","$timeout","$adConfig","adAlerts",a]}}]),angular.module("adaptv.adaptStrap.alerts").factory("adAlerts",[function(){function a(a,e){o("warning",a,e)}function e(a,e){o("info",a,e)}function t(a,e){o("success",a,e)}function n(a,e){o("danger",a,e)}function o(a,e,t){l.type=a,l.caption=e,l.message=t}function i(){l.type="",l.caption="",l.message=""}var l={type:"",caption:"",message:""};return{settings:l,warning:a,info:e,success:t,error:n,clear:i}}]),angular.module("adaptv.adaptStrap.draggable",[]).directive("adDrag",["$rootScope","$parse","$timeout",function(t,n,o){function i(i,l,r){function s(){l.attr("draggable","false"),g(!0)}function g(a){a&&(i.$on("$destroy",d),r.$observe("adDrag",f),i.$watch(r.adDragData,u),i.$on("draggable:start",c),i.$on("draggable:end",p),i.hasHandle?l.on(N,".ad-drag-handle",m):(l.on(N,m),l.addClass("ad-draggable")),A||(l.on("mousedown",".ad-drag-handle",function(){return!1}),l.on("mousedown",function(){return!1})))}function c(a,e){e.el===l&&e.callback&&e.callback(a)}function p(a,e){e.el===l&&e.callback&&e.callback(a)}function d(){g(!1)}function u(a){i.data=a}function f(a){O=i.$eval(a)}function m(a){O&&(A?(C(),R=setTimeout(function(){C(),b(a)},100),q.on(j,C),q.on(T,C)):b(a))}function v(a,e){var t,n=$(e).attr("style");return n&&n.split(";").forEach(function(e){var n=e.split(":");$.trim(n[0])===a&&(t=n[1])}),t}function h(){v("width",l)&&l.data("ad-draggable-temp-width",v("width",l)),l.width(l.width()),l.children().each(function(){v("width",this)&&$(this).data("ad-draggable-temp-width",v("width",this)),$(this).width($(this).width())})}function C(){clearTimeout(R),q.off(j,C),q.off(T,C)}function b(a){O&&(a.preventDefault(),I=l.offset(),I=i.hasHandle?l.find(".ad-drag-handle").offset():l.offset(),l.addClass("ad-dragging"),z=a.pageX||a.originalEvent.touches[0].pageX,k=a.pageY||a.originalEvent.touches[0].pageY,L=z-I.left-M.scrollLeft(),E=k-I.top-M.scrollTop(),h(),w(L,E),q.on(j,D),q.on(T,S),t.$broadcast("draggable:start",{x:z,y:k,tx:L,ty:E,el:l,data:i.data,callback:P}))}function D(a){var e,n;O&&(a.preventDefault(),e=a.pageX||a.originalEvent.touches[0].pageX,n=a.pageY||a.originalEvent.touches[0].pageY,L=e-z+I.left-M.scrollLeft(),E=n-k+I.top-M.scrollTop(),w(L,E),t.$broadcast("draggable:move",{x:z,y:k,tx:L,ty:E,el:l,data:i.data}))}function S(a){O&&(a.preventDefault(),t.$broadcast("draggable:end",{x:z,y:k,tx:L,ty:E,el:l,data:i.data,callback:y}),l.removeClass("ad-dragging"),x(),q.off(j,D),q.off(T,S))}function P(a){i.onDragStartCallback&&i.$apply(function(){i.onDragStartCallback(i,{$data:i.data,$dragElement:{el:l},$event:a})})}function y(a){i.onDragEndCallback&&o(function(){i.$apply(function(){i.onDragEndCallback(i,{$data:i.data,$dragElement:{el:l},$event:a})})},100)}function x(){l.css({left:"",top:"",position:"","z-index":""});var a=l.data("ad-draggable-temp-width");l.css(a?{width:a}:{width:""}),l.children().each(function(){var a=$(this).data("ad-draggable-temp-width");$(this).css(a?{width:a}:{width:""})})}function w(a,e){l.css({left:a,top:e,position:"fixed","z-index":99999})}i.draggable=r.adDrag,i.hasHandle="false"===r.adDragHandle||"undefined"==typeof r.adDragHandle?!1:!0,i.onDragStartCallback=n(r.adDragBegin)||null,i.onDragEndCallback=n(r.adDragEnd)||null,i.data=null;var I,z,k,L,E,A="ontouchstart"in e.documentElement,N="touchstart mousedown",j="touchmove mousemove",T="touchend mouseup",q=$(e),M=$(a),O=!1,R=null;s()}return{restrict:"A",link:i}}]).directive("adDrop",["$rootScope","$parse",function(e,t){function n(n,o,i){function l(){r(!0)}function r(a){a&&(i.$observe("adDrop",g),n.$on("$destroy",s),n.$on("draggable:move",p),n.$on("draggable:end",d),n.$on("draggable:change",c))}function s(){r(!1)}function g(a){f=n.$eval(a)}function c(a,e){m!==e.el&&(m=null)}function p(a,t){if(f&&o!==t.el){var i=u(t.tx,t.ty,t.el);null!==i?(m=i,t.el.lastDropElement=m,n.$apply(function(){n.onDropOverCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:m},$event:a})}),o.addClass("ad-drop-over"),e.$broadcast("draggable:change",{el:m})):t.el.lastDropElement===o&&(n.$apply(function(){n.onDropLeaveCallback(n,{$data:t.data,$dragElement:{el:t.el},$dropElement:{el:t.el.lastDropElement},$event:a})}),t.el.lastDropElement.removeClass("ad-drop-over"),delete t.el.lastDropElement)}}function d(a,e){f&&m&&(n.$apply(function(){n.onDropCallback(n,{$data:e.data,$dragElement:{el:e.el},$dropElement:{el:m},$event:a})}),m=null)}function u(a,e){var t=o.offset(),n=Math.floor(o.outerHeight()/6);return a+=v.scrollLeft(),e+=v.scrollTop(),e>=t.top+n&&e<=t.top+o.outerHeight()-n&&a>=t.left&&a<=t.left+o.outerWidth()&&a>=t.left&&a<=t.left+o.outerWidth()?o:null}n.droppable=i.adDrop,n.onDropCallback=t(i.adDropEnd)||null,n.onDropOverCallback=t(i.adDropOver)||null,n.onDropLeaveCallback=t(i.adDropLeave)||null;var f=!1,m=null,v=$(a);l()}return{restrict:"A",link:n}}]),angular.module("adaptv.adaptStrap.infinitedropdown",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adInfiniteDropdown",["$parse","$compile","$templateCache","$adConfig","adLoadPage","adDebounce","adStrapUtils","adLoadLocalPage",function(a,e,n,o,i,l,r,s){function g(e,n,o){e.attrs=o,e.adStrapUtils=r,e.items={list:[],paging:{currentPage:1,totalPages:t,pageSize:Number(o.pageSize)||10}},e.localConfig={loadingData:!1,singleSelectionMode:a(o.singleSelectionMode)()?!0:!1,dimensions:{"max-height":o.maxHeight||"200px","max-width":o.maxWidth||"auto"}},e.selectedItems=e.$eval(o.selectedItems)||[],e.ajaxConfig=e.$eval(o.ajaxConfig)||{};var g,c=[];e.addRemoveItem=function(a,t,n){a.stopPropagation(),e.localConfig.singleSelectionMode?e.selectedItems[0]=t:r.addRemoveItemFromList(t,n);var i=e.$eval(o.onItemClick);i&&i(t)},e.loadPage=l(function(a){g=Math.random(),e.localConfig.loadingData=!0;var t=e.$eval(o.pageLoader)||i,n={pageNumber:a,pageSize:e.items.paging.pageSize,sortKey:e.localConfig.predicate,sortDirection:e.localConfig.reverse,ajaxConfig:e.ajaxConfig,token:g},l=function(t){t.token===g&&(e.items.list=1===a?t.items:e.items.list.concat(t.items),e.items.paging.totalPages=t.totalPages,e.items.paging.currentPage=t.currentPage,e.localConfig.loadingData=!1)},r=function(){e.localConfig.loadingData=!1};o.localDataSource?(n.localData=e.$eval(o.localDataSource),l(s(n))):t(n).then(l,r)},10),e.loadNextPage=function(){e.localConfig.loadingData||e.items.paging.currentPage+1<=e.items.paging.totalPages&&e.loadPage(e.items.paging.currentPage+1)},e.loadPage(1),o.ajaxConfig&&e.$watch(o.ajaxConfig,function(a){a&&e.loadPage(1)},!0),o.localDataSource&&(c.push(e.$watch(o.localDataSource,function(a){a&&e.loadPage(1)})),c.push(e.$watch(o.localDataSource+".length",function(a){a&&e.loadPage(1)}))),e.$on("$destroy",function(){c.forEach(function(a){a()})});var p=angular.element(n).find("ul")[0],d=l(function(){p.scrollTop+p.offsetHeight>=p.scrollHeight-300&&e.loadNextPage()},50);angular.element(p).bind("mousewheel",function(a){a.originalEvent&&a.originalEvent.deltaY&&(p.scrollTop+=a.originalEvent.deltaY,a.preventDefault(),a.stopPropagation()),d()})}return{restrict:"E",scope:!0,link:g,templateUrl:"infinitedropdown/infinitedropdown.tpl.html"}}]),angular.module("adaptv.adaptStrap.loadingindicator",[]).directive("adLoadingIcon",["$adConfig","$compile",function(a,e){return{restrict:"E",compile:function(){return{pre:function(t,n,o){var i=o.loadingIconClass||a.iconClasses.loadingSpinner,l=o.loadingIconSize?"ng-style=\"{'font-size': '"+o.loadingIconSize+"'}\"":"",r='<i class="'+i+'" '+l+"></i>";n.empty(),n.append(e(r)(t))}}}}}]).directive("adLoadingOverlay",["$adConfig",function(a){return{restrict:"E",templateUrl:"loadingindicator/loadingindicator.tpl.html",scope:{loading:"=",zIndex:"@",position:"@",containerClasses:"@",loadingIconClass:"@",loadingIconSize:"@"},compile:function(){return{pre:function(e){e.loadingIconClass=e.loadingIconClass||a.iconClasses.loading,e.loadingIconSize=e.loadingIconSize||"3em"}}}}}]),angular.module("adaptv.adaptStrap.tableajax",["adaptv.adaptStrap.utils","adaptv.adaptStrap.loadingindicator"]).directive("adTableAjax",["$parse","$filter","$adConfig","adLoadPage","adDebounce","adStrapUtils",function(a,e,n,o,i,l){function r(r,s){r.attrs=s,r.iconClasses=n.iconClasses,r.adStrapUtils=l,r.tableClasses=n.componentClasses.tableAjaxClass,r.onDataLoadedCallback=a(s.onDataLoaded)||null,r.items={list:t,paging:{currentPage:1,totalPages:t,totalItems:t,pageSize:Number(s.pageSize)||n.paging.pageSize,pageSizes:a(s.pageSizes)()||n.paging.pageSizes}},r.localConfig={pagingArray:[],loadingData:!1,showNoDataFoundMessage:!1,tableMaxHeight:s.tableMaxHeight,expandedItems:[]},r.onRowClick=function(a,e){var t=r.$parent.$eval(s.onRowClick);t&&t(a,e)},r.ajaxConfig=r.$eval(s.ajaxConfig),r.columnDefinition=r.$eval(s.columnDefinition),r.visibleColumnDefinition=e("filter")(r.columnDefinition,r.columnVisible);var g,c=[];r.items.paging.pageSizes.indexOf(r.items.paging.pageSize)<0&&(r.items.paging.pageSize=r.items.paging.pageSizes[0]),r.loadPage=i(function(a){r.collapseAll(),g=Math.random(),r.localConfig.loadingData=!0,r.localConfig.showNoDataFoundMessage=!1;var e=r.$eval(s.pageLoader)||o,t={pageNumber:a,pageSize:r.items.paging.pageSize,sortKey:r.localConfig.predicate,sortDirection:r.localConfig.reverse,ajaxConfig:r.ajaxConfig,token:g},n=function(a){a.token===g&&(r.items.list=a.items,r.items.paging.totalPages=a.totalPages,r.items.paging.totalItems=a.totalItems,r.items.paging.currentPage=a.currentPage,r.localConfig.pagingArray=a.pagingArray,r.localConfig.loadingData=!1),a.totalPages||(r.localConfig.showNoDataFoundMessage=!0),r.onDataLoadedCallback&&r.onDataLoadedCallback(r,{$success:!0,$response:a})},i=function(){r.localConfig.loadingData=!1,r.localConfig.showNoDataFoundMessage=!0,r.onDataLoadedCallback&&r.onDataLoadedCallback(r,{$success:!1,$response:null})};e(t).then(n,i)}),r.loadNextPage=function(){r.localConfig.loadingData||r.items.paging.currentPage+1<=r.items.paging.totalPages&&r.loadPage(r.items.paging.currentPage+1)},r.loadPreviousPage=function(){r.localConfig.loadingData||r.items.paging.currentPage-1>0&&r.loadPage(r.items.paging.currentPage-1)},r.loadLastPage=function(){r.localConfig.loadingData||r.items.paging.currentPage!==r.items.paging.totalPages&&r.loadPage(r.items.paging.totalPages)},r.pageSizeChanged=function(a){Number(a)!==r.items.paging.pageSize&&(r.items.paging.pageSize=Number(a),r.loadPage(1))},r.columnVisible=function(a){return a.visible!==!1},r.sortByColumn=function(a){var e=!0;"DEC"===s.onClickSortDirection&&(e=!1),a.sortKey&&(a.sortKey!==r.localConfig.predicate?(r.localConfig.predicate=a.sortKey,r.localConfig.reverse=e):r.localConfig.reverse===e?r.localConfig.reverse=!e:(r.localConfig.reverse=t,r.localConfig.predicate=t),r.loadPage(r.items.paging.currentPage))},r.collapseAll=function(){r.localConfig.expandedItems.length=0},r.getRowClass=function(a,e){var t="";return s.rowClassProvider&&(t+=r.$eval(s.rowClassProvider)(a,e)),t},r.toggle=function(a,e,t){if(a.stopPropagation(),l.addRemoveItemFromList(e,r.localConfig.expandedItems),l.itemExistsInList(e,r.localConfig.expandedItems)){var n=r.$eval(s.rowExpandCallback);n&&n(t)}},r.loadPage(1),c.push(r.$watch(s.ajaxConfig,function(){r.loadPage(1)},!0)),c.push(r.$watchCollection(s.columnDefinition,function(){r.columnDefinition=r.$eval(s.columnDefinition),r.visibleColumnDefinition=e("filter")(r.columnDefinition,r.columnVisible)})),r.$on("$destroy",function(){c.forEach(function(a){a()})})}return{restrict:"E",scope:!0,templateUrl:"tableajax/tableajax.tpl.html",controller:["$scope","$attrs",r]}}]),angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce","adLoadLocalPage",function(a,e,n,o,i,l,r,s,g){function c(e,n){function i(a,e,t){e.next()[0]===a[0]?e.before(a):e.prev()[0]===a[0]?e.after(a):e.next()[0]===t[0]?e.before(a):e.prev()[0]===t[0]&&e.after(a)}e.attrs=n,e.iconClasses=l.iconClasses,e.adStrapUtils=r,e.tableClasses=l.componentClasses.tableLiteClass,e.columnDefinition=e.$eval(n.columnDefinition),e.visibleColumnDefinition=o("filter")(e.columnDefinition,e.columnVisible),e.items={list:t,allItems:t,paging:{currentPage:1,totalPages:t,pageSize:Number(n.pageSize)||l.paging.pageSize,pageSizes:a(n.pageSizes)()||l.paging.pageSizes}},e.filters={},e.localConfig={localData:r.parse(e.$eval(n.localDataSource)),pagingArray:[],dragChange:e.$eval(n.onDragChange),expandedItems:[],predicate:n.initialSortKey},"DEC"===n.initialSortDirection?e.localConfig.reverse=!1:"ASC"===n.initialSortDirection&&(e.localConfig.reverse=!0),e.selectedItems=e.$eval(n.selectedItems),e.searchText=e.$eval(n.searchText);var c,p=null,d=!1,u=null,f=!1,m=[];if(e.items.paging.pageSizes.indexOf(e.items.paging.pageSize)<0&&(e.items.paging.pageSize=e.items.paging.pageSizes[0]),e.loadPage=s(function(a){e.collapseAll();var t,i,l=r.parse(e.$eval(n.localDataSource));e.localConfig.localData=e.searchText?o("filter")(l,e.searchText):l,n.enableColumnSearch&&r.hasAtLeastOnePropertyWithValue(e.filters)&&(e.localConfig.localData=o("filter")(e.localConfig.localData,e.filters)),t=e.localConfig.localData,i={pageNumber:a,pageSize:n.disablePaging?t.length:e.items.paging.pageSize,sortKey:e.localConfig.predicate,sortDirection:e.localConfig.reverse,localData:t};var s=g(i);e.items.list=s.items,e.items.allItems=s.allItems,e.items.paging.currentPage=s.currentPage,e.items.paging.totalPages=s.totalPages,e.localConfig.pagingArray=s.pagingArray,e.$emit("adTableLite:pageChanged",e.items.paging)},100),e.loadNextPage=function(){e.items.paging.currentPage+1<=e.items.paging.totalPages&&e.loadPage(e.items.paging.currentPage+1)},e.loadPreviousPage=function(){e.items.paging.currentPage-1>0&&e.loadPage(e.items.paging.currentPage-1)},e.loadLastPage=function(){e.localConfig.disablePaging||e.loadPage(e.items.paging.totalPages)},e.pageSizeChanged=function(a){e.items.paging.pageSize=a,e.loadPage(1)},e.columnVisible=function(a){return a.visible!==!1},e.sortByColumn=function(a){var o=!0;"DEC"===n.onClickSortDirection&&(o=!1),a.sortKey&&(a.sortKey!==e.localConfig.predicate?(e.localConfig.predicate=a.sortKey,e.localConfig.reverse=o):e.localConfig.reverse===o?e.localConfig.reverse=!o:(e.localConfig.reverse=t,e.localConfig.predicate=t),e.loadPage(e.items.paging.currentPage))},e.unSortTable=function(){e.localConfig.reverse=t,e.localConfig.predicate=t},e.collapseAll=function(){e.localConfig.expandedItems.length=0},e.onDragStart=function(a,t){e.localConfig.expandedItems.length=0,t=t.el;var n=t.parent();p=$('<tr id="row-phldr"><td colspan='+t.find("td").length+">&nbsp;</td></tr>"),c=t.index()+(e.items.paging.currentPage-1)*e.items.paging.pageSize,d||(t[0]!==n.children().last()[0]?(t.next().before(p),d=!0):(n.append(p),d=!0))},e.onDragEnd=function(){$("#row-phldr").remove(),d=!1},e.onDragOver=function(a,e,t){p&&i(p,t.el,e.el)},e.onDropEnd=function(a,t){var n;t=t.el,p&&(p.next()[0]?p.next().before(t):p.prev()[0]&&p.prev().after(t),$("#row-phldr").remove(),d=!1,f=!0,n=t.index()+(e.items.paging.currentPage-1)*e.items.paging.pageSize,r.moveItemInList(c,n,e.localConfig.localData),e.localConfig.dragChange&&e.localConfig.dragChange(c,n,a),e.unSortTable(),e.loadPage(e.items.paging.currentPage))},e.onNextPageButtonOver=function(a,e,t){"disabled"!==t.el.attr("disabled")&&(u=t.el,u.parent().addClass("active"))},e.onNextPageButtonLeave=function(a,e,t){u&&u===t.el&&(u.parent().removeClass("active"),u=null)},e.onNextPageButtonDrop=function(a,t){var n;u&&(f=!0,"btnPrev"===u.attr("id")&&(n=e.items.paging.pageSize*(e.items.paging.currentPage-1)),"btnNext"===u.attr("id")&&(n=e.items.paging.pageSize*e.items.paging.currentPage),r.moveItemInList(c,n,e.localConfig.localData),e.loadPage(e.items.paging.currentPage),$("#row-phldr").remove(),d=!1,t.el.remove(),e.localConfig.dragChange&&e.localConfig.dragChange(c,n,a),u.parent().removeClass("active"),u=null)},e.getRowClass=function(a,t){var o="";return o+=n.selectedItems&&r.itemExistsInList(a,e.selectedItems)?"ad-selected":"",n.rowClassProvider&&(o+=" "+e.$eval(n.rowClassProvider)(a,t)),o},e.toggle=function(a,t,o){if(a.stopPropagation(),r.addRemoveItemFromList(t,e.localConfig.expandedItems),r.itemExistsInList(t,e.localConfig.expandedItems)){var i=e.$eval(n.rowExpandCallback);i&&i(o)}},e.onRowClick=function(a,t){var o=e.$parent.$eval(n.onRowClick);o&&o(a,t)},e.loadPage(1),m.push(e.$watch(n.localDataSource,function(){e.loadPage(e.items.paging.currentPage)})),m.push(e.$watch(n.localDataSource+".length",function(){e.loadPage(e.items.paging.currentPage)})),m.push(e.$watchCollection(n.columnDefinition,function(){e.columnDefinition=e.$eval(n.columnDefinition),e.visibleColumnDefinition=o("filter")(e.columnDefinition,e.columnVisible)})),m.push(e.$watch(n.searchText,function(){e.searchText=e.$eval(n.searchText),e.loadPage(1)})),n.enableColumnSearch){var v=s(function(){e.loadPage(1)},Number(n.columnSearchDebounce)||400);m.push(e.$watch("filters",function(){v()},!0))}e.$on("$destroy",function(){m.forEach(function(a){a()})})}return{restrict:"E",controller:["$scope","$attrs",c],templateUrl:"tablelite/tablelite.tpl.html",scope:!0}}]),angular.module("adaptv.adaptStrap.treebrowser",[]).directive("adTreeBrowser",["$adConfig",function(a){function e(e,t){var n=Math.random();e.attrs=t,e.iconClasses=a.iconClasses,e.treeRoot=e.$eval(t.treeRoot)||{},e.toggle=function(a,n){var o;a.stopPropagation(),o=e.$eval(t.toggleCallback),o?o(n):n._ad_expanded=!n._ad_expanded},e.onRowClick=function(a,n,o){var i=e.$parent.$eval(t.onRowClick);i&&i(a,n,o)};var o=e.$eval(t.hasChildren);e.hasChildren=function(a){var e=a[t.childNode]&&a[t.childNode].length>0;return o&&(e=o(a)),e},e.localConfig={rendererTemplateId:"tree-renderer-"+n+".html"}}return{restrict:"E",scope:!0,controller:["$scope","$attrs",e],templateUrl:"treebrowser/treebrowser.tpl.html"}}]),angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(a){var e=function(a,e){var t=e.split(".");if(a)for(;t.length;){var n=t.shift();a&&(a=a[n])}return a},t=function(e,t,n){var o,i,l;return e&&"function"==typeof e?e(n):(t&&(l=t.indexOf(":"),l>-1?(o=t.substring(0,l),i=t.substring(l+1),e=a(o)(e,i)):e=a(t)(e)),e)},n=function(a,e){var t=!1;return e.forEach(function(e){angular.equals(a,e)&&(t=!0)}),t},o=function(a,e){var t,o=!0;for(t=0;t<a.length;t++)if(n(a[t],e)===!1){o=!1;break}return o},i=function(a,e){e.push(a)},l=function(a,e){var t;for(t=e.length-1;t>-1;t--)angular.equals(a,e[t])&&e.splice(t,1)},r=function(a,e){var t,n=!1;for(t=e.length-1;t>-1;t--)angular.equals(a,e[t])&&(e.splice(t,1),n=!0);n===!1&&e.push(a)},s=function(a,e){a.forEach(function(a){n(a,e)||r(a,e)})},g=function(a,e){o(a,e)?e.length=0:s(a,e)},c=function(a,e,t){e<t.length&&t.splice(e,0,t.splice(a,1)[0])},p=function(a){var e=[];return angular.isArray(a)?e=a:angular.forEach(a,function(a){e.push(a)}),e},d=function(a,e){if(e&&"function"==typeof e)return e(a);for(var t=e.split(".");t.length;)a=a[t.shift()];return a},u=function(a){var e,t,n=!1;for(e in a)if(t=a[e],t instanceof Array?t.length>0&&(n=!0):t&&(n=!0),n)break;return n};return{evalObjectProperty:e,applyFilter:t,itemExistsInList:n,itemsExistInList:o,addItemToList:i,removeItemFromList:l,addRemoveItemFromList:r,addItemsToList:s,addRemoveItemsFromList:g,moveItemInList:c,parse:p,getObjectProperty:d,hasAtLeastOnePropertyWithValue:u}}]).factory("adDebounce",["$timeout","$q",function(a,e){var t=function(t,n,o,i){var l=null,r=e.defer(),s=n||300;return function(){var n=i||this,g=arguments,c=o&&!l,p=function(){o||(r.resolve(t.apply(n,g)),r=e.defer())};return l&&a.cancel(l),l=a(p,s),c&&(r.resolve(t.apply(n,g)),r=e.defer()),r.promise}};return t}]).directive("adCompileTemplate",["$compile",function(a){return function(e,t,n){e.$watch(function(a){return a.$eval(n.adCompileTemplate)},function(n){t.html(n),a(t.contents())(e)})}}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(a,e,t){return function(n){var o=(n.pageNumber-1)*n.pageSize,i=angular.copy(a.paging),l=angular.copy(n.ajaxConfig);l.paginationConfig&&l.paginationConfig.request&&angular.extend(i.request,l.paginationConfig.request),l.paginationConfig&&l.paginationConfig.response&&angular.extend(i.response,l.paginationConfig.response),l.params=l.params?l.params:{},i.request.start&&(l.params[i.request.start]=o),i.request.pageSize&&(l.params[i.request.pageSize]=n.pageSize),i.request.page&&(l.params[i.request.page]=n.pageNumber),n.sortKey&&i.request.sortField&&(l.params[i.request.sortField]=n.sortKey),n.sortDirection===!1&&i.request.sortDirection?l.params[i.request.sortDirection]=i.request.sortAscValue:n.sortDirection===!0&&i.request.sortDirection&&(l.params[i.request.sortDirection]=i.request.sortDescValue);var r;return r="JSONP"===l.method?e.jsonp(l.url+"?callback=JSON_CALLBACK",l):e(l),r.then(function(a){for(var e={items:t.evalObjectProperty(a.data,i.response.itemsLocation),currentPage:n.pageNumber,totalPages:Math.ceil(t.evalObjectProperty(a.data,i.response.totalItems)/n.pageSize),totalItems:Math.ceil(t.evalObjectProperty(a.data,i.response.totalItems)),pagingArray:[],token:n.token},o=5,l=n.pageNumber-Math.floor(o/2),r=l;r<=n.pageNumber;r++)r>0&&e.pagingArray.push(r);for(;e.pagingArray.length<o&&!(r>e.totalPages);)e.pagingArray.push(r),r++;return e})}}]).factory("adLoadLocalPage",["$filter",function(a){return function(e){var n,o={items:t,currentPage:e.pageNumber,totalPages:t,pagingArray:[],token:e.token},i=(e.pageNumber-1)*e.pageSize,l=i+e.pageSize,r=e.localData,s=r;e.sortKey&&(s=a("orderBy")(r,e.sortKey,e.sortDirection)),o.items=s.slice(i,l),o.allItems=r,o.currentPage=e.pageNumber,o.totalPages=Math.ceil(r.length/e.pageSize);var g=5,c=e.pageNumber-Math.floor(g/2);for(n=c;n<=e.pageNumber;n++)n>0&&o.pagingArray.push(n);for(;o.pagingArray.length<g&&!(n>o.totalPages);)o.pagingArray.push(n),n++;return o}}])}(window,document);